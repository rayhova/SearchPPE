!function(d){d(document).ready(function(){function c(t){var a=[],e=t.prev();d("tr:not([data-repeater])",t).each(function(){d("input",this).each(function(){var t=d(this).attr("data-name").split(/[[\]]{1,2}/);void 0===a[t[3]]&&(a[t[3]]={}),a[t[3]][t[4]]=d(this).val()})}),e.val(JSON.stringify(a)).trigger("change")}d(document).on("click",".gf_login_widget_editor .tabs a",function(t){t.preventDefault();var a=d(this).parent().parent(),e=d(this).parent(),n=d(this).attr("data-tab");e.find("a").removeClass("active"),d(this).addClass("active"),a.find('.tab-content:not( [data-tab="'+n+'"] )').hide(),a.find('.tab-content[data-tab="'+n+'"]').show(),a.find('input[data-type="active_view"]').val(n)}),d(document).on("click",".gf_login_widget_add_link",function(t){t.preventDefault();var a=d(this).prev(),e=d("tr[data-repeater]",a);d("tr.new",a).removeClass("new");var n=0;d("tr:not([data-repeater])",a).each(function(){var t=d("td:first-child input",this).attr("data-name").match(/\[(\d*)\]/gim)[1];t=parseInt(t.replace("[","").replace("]","")),n<t&&(n=t)}),n++;var i=d('<tr class="new">'+e.html()+"</tr>"),r=d("input.link-text",i),o=d("input.link-url",i);r.attr("data-name",r.attr("data-name")+"["+n+"][text]"),o.attr("data-name",o.attr("data-name")+"["+n+"][url]"),i.insertBefore(e),c(a)}),d(document).on("click",'.gf_login_widget_links a[data-action="delete-link"]',function(t){t.preventDefault();var a=d(this).closest("tr"),e=d(this).closest("table");a.remove(),0===d("tr:not([data-repeater])",e).length&&e.next().click(),c(e)}),d(document).on("change",".gf_login_widget_links input",function(){c(d(this).closest("table"))}),d(document).on("change",".gf_login_widget_registrationpage",function(){"custom"===d(this).val()?d(this).next("table").show():d(this).next("table").hide()})})}(jQuery);